---
title: Deploy Private Validium
description: Deploy a private Validium network with off-chain data availability
sidebar_position: 1
mainSource:
  url: 'https://github.com/Consensys/linea-monorepo'
  type: rfp-sources
image: /img/socialCards/deploy-private-validium.jpg
---

This guide walks through deploying a Private Validium network. Private Validium keeps transaction
data off-chain while maintaining cryptographic guarantees through zero-knowledge proofs.

## Prerequisites

- Docker v24 or higher with ~16 GB memory and 4+ CPUs
- Docker Compose v2.19+
- Network infrastructure for private node communication
- Access to finalization layer (Ethereum or Linea Mainnet) for state commitments

## Architecture overview

A Private Validium deployment includes:

- **Consensus layer**: Maru with QBFT consensus (minimum 4 nodes)
- **Execution layer**: Linea Besu nodes (sequencer + full nodes)
- **Coordinator**: Orchestrates proof generation and finalization
- **Prover**: Generates zero-knowledge proofs
- **State manager**: Maintains state for proof generation
- **RPC nodes**: Private RPC endpoints with RBAC
- **API portal**: Controlled access to network functionality

## Step 1: Prepare infrastructure

### Network configuration

Configure your network for private operation:

- Set up private network topology with controlled node membership
- Configure P2P networking between nodes
- Set up load balancers for RPC endpoints
- Configure access controls (RBAC) for RPC and API access

### Resource allocation

Allocate resources for each component type:

- **Consensus nodes (Maru)**: Moderate CPU/memory per node
- **Execution nodes (Besu)**: High CPU/memory, significant storage
- **Sequencer**: High CPU/memory
- **Coordinator**: Moderate CPU/memory, file system for batches
- **Prover**: Very high CPU (proof generation)
- **State manager**: High memory/storage

### Storage

Plan storage for:

- Execution layer data (grows with network activity)
- State manager state representation
- Coordinator batch and blob files
- Prover intermediate files

## Step 2: Deploy consensus layer

Deploy Maru consensus layer nodes:

1. Configure Maru for QBFT consensus.
2. Set up validator set (minimum 4 nodes).
3. Configure P2P networking and static peers.
4. Deploy Maru nodes.

See [Deploy Maru](/stack/guides/deployment-guides/deploy-maru) for detailed steps.

## Step 3: Deploy execution layer

Deploy Linea Besu execution layer:

1. Deploy sequencer node with sequencer plugins.
2. Deploy full nodes for RPC serving.
3. Configure execution layer to connect to Maru via Engine API.
4. Set up static node configuration for P2P.

See [Deploy execution layer](/stack/guides/deployment-guides/deploy-execution-layer) for detailed
steps.

## Step 4: Deploy coordinator

Deploy the coordinator:

1. Configure coordinator for your finalization layer.
2. Set up file system for batch and blob storage.
3. Configure connections to sequencer, state manager, and prover.
4. Deploy coordinator service.

See <!-- todo: does this need to be built out [Deploy coordinator](/stack/guides/deployment-guides/deploy-coordinator) --> coordinator deployment for detailed steps.

## Step 5: Deploy prover

Deploy prover instances:

1. Configure prover for proof generation.
2. Set up file system access for proof requests/responses.
3. Deploy prover instances (consider multiple for redundancy).
4. Verify prover can access required data.

See <!-- todo: does this need to be built out [Deploy prover](/stack/guides/deployment-guides/deploy-prover) --> prover deployment for detailed steps.

## Step 6: Deploy state manager

Deploy state manager:

1. Deploy Besu node with Shomei plugin.
2. Deploy Shomei node for state representation.
3. Configure state manager to receive state updates.
4. Set up state snapshot capabilities.

See <!-- todo: does this need to be built out [Deploy state manager](/stack/guides/deployment-guides/deploy-state-manager) --> state manager deployment for detailed steps.

## Step 7: Configure data availability

For Private Validium, configure off-chain data availability:

- Set up private node set for data storage
- Configure data availability providers
- Set up redundancy and backup procedures

## Step 8: Set up access controls

Configure RBAC and access controls:

- Set up API portal with RBAC
- Configure RPC endpoint access controls
- Set up key management (Web3Signer with KMS)
- Configure institution onboarding and management

## Step 9: Configure finalization layer

Configure connection to finalization layer:

- Set up connection to Ethereum or Linea Mainnet
- **Deploy smart contracts**: Rollup and verifier contracts on finalization layer (required for
  proof verification; see [Data availability and finalization](/stack/how-it-works/data-availability-finalization))
- Configure finalization layer contracts
- Set up monitoring for finalization submissions
- Configure gas price management

## Step 10: Verify deployment

Verify your deployment:

1. Check all components are running and healthy.
2. Verify P2P connectivity between nodes.
3. Test transaction submission and execution (see [Transaction lifecycle](/protocol/transaction-lifecycle) for
   expected flow).
4. Verify proof generation and finalization.
5. Test RPC endpoints and API access.
6. Verify data availability and recovery procedures.

## Next steps

After deployment:

- [Configure your network](/stack/guides/configuration-guides)
- [Set up operational procedures](/stack/guides/operations-guides)
- <!-- todo: does this need to be built out [Configure monitoring and alerting](/stack/guides/operations-guides/monitoring) -->
- <!-- todo: does this need to be built out [Test failure scenarios](/stack/guides/operations-guides/disaster-recovery) -->

## Related documentation

- [Deployment Models](/stack/how-it-works/deployment-models): Understanding Private Validium
  characteristics
- [Architecture](/stack/how-it-works/architecture): Component interactions
- [Configuration Guides](/stack/guides/configuration-guides): Configuration options
