---
title: Deploy Private Validium
description: Deploy a Private Validium network with the Linea stack
sidebar_position: 1
mainSource:
  url: 'https://github.com/Consensys/linea-monorepo'
image: /img/socialCards/deploy-private-validium.jpg
---

import DocCardList from '@theme/DocCardList';

export const relatedDocs = [
  {type: 'link', href: '/stack/guides/run-your-own-network/prerequisites', label: 'Prerequisites'},
  {type: 'link', href: '/stack/guides/operations-guides', label: 'Operations guides'},
];

This guide walks through deploying a Private Validium network. Private Validium keeps transaction
data offchain while maintaining cryptographic guarantees through zero-knowledge proofs.

:::info[Prerequisites]

Before starting deployment, ensure you meet all requirements in the
[prerequisites guide](../run-your-own-network/prerequisites.mdx). This includes hardware, software,
network topology, and access requirements.

:::

## Architecture overview

A Private Validium deployment includes:

- Consensus layer: Maru with QBFT consensus (minimum 4 nodes)
- Execution layer: Linea Besu nodes (sequencer + full nodes)
- Coordinator: Orchestrates proof generation and finalization
- Prover: Generates zero-knowledge proofs
- State manager: Maintains state for proof generation
- RPC nodes: Private RPC endpoints with RBAC
- API portal: Controlled access to network functionality

## Step 1: Deploy consensus layer

Deploy Maru consensus layer nodes:

1. Configure Maru for QBFT consensus.
2. Set up validator set (minimum 4 nodes).
3. Configure P2P networking and static peers.
4. Deploy Maru nodes.

See [Deploy Maru](./deploy-maru.mdx) for detailed steps.

## Step 2: Deploy Execution Layer

Deploy Linea Besu Execution Layer:

1. Deploy sequencer node with sequencer plugins.
2. Deploy full nodes for RPC serving.
3. Configure Execution Layer to connect to Maru via Engine API.
4. Set up static node configuration for P2P.

See [Deploy Execution Layer](./deploy-execution-layer.mdx) for detailed steps.

## Step 3: Deploy coordinator

Deploy the coordinator:

1. Configure coordinator for your finalization layer.
2. Set up file system for batch and blob storage.
3. Configure connections to sequencer, state manager, and prover.
4. Deploy coordinator service.

Detailed coordinator deployment guide is under development.

## Step 4: Deploy prover

Deploy prover instances:

1. Configure prover for proof generation.
2. Set up file system access for proof requests/responses.
3. Deploy prover instances (consider multiple for redundancy).
4. Verify prover can access required data.

Detailed prover deployment guide is under development.

## Step 5: Deploy state manager

Deploy state manager:

1. Deploy Besu node with Shomei plugin.
2. Deploy Shomei node for state representation.
3. Configure state manager to receive state updates.
4. Set up state snapshot capabilities.

Detailed state manager deployment guide is under development.

## Step 6: Configure data availability

For Private Validium, configure offchain data availability:

- Set up private node set for data storage
- Configure data availability providers
- Set up redundancy and backup procedures

## Step 7: Set up access controls

Configure RBAC and access controls:

- Set up API portal with RBAC
- Configure RPC endpoint access controls
- Set up key management: Remote signing backed by a hardware security module (HSM) or key
  management service (for example, Web3Signer with KMS)
- Configure institution onboarding and management

## Step 8: Configure finalization layer

Configure connection to finalization layer:

- Set up connection to Ethereum or Linea Mainnet
- Deploy smart contracts: Rollup and verifier contracts on finalization layer (required for
  proof verification; see [Data availability and finalization](../../how-it-works/data-availability-finalization.mdx))
- Configure finalization layer contracts
- Set up monitoring for finalization submissions
- Configure gas price management

## Step 9: Verify deployment

Verify your deployment:

1. Check all components are running and healthy.
2. Verify P2P connectivity between nodes.
3. Test transaction submission and execution (see [Transaction lifecycle](../../../protocol/transaction-lifecycle.mdx)
   for expected flow).
4. Verify proof generation and finalization.
5. Test RPC endpoints and API access.
6. Verify data availability and recovery procedures.

## Next steps

After deployment:

- [Set up operational procedures](../operations-guides/index.mdx)
- Configure monitoring and alerting
- Test failure scenarios

## Related documentation

<DocCardList items={relatedDocs} />
